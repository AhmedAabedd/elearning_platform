<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="user_profile_header_custom" inherit_id="website_profile.user_profile_header" name="Custom Profile Header Color">
        <xpath expr="//div[contains(@class,'o_wprofile_header')]" position="attributes">
            <!-- Remove default gradient -->
            <attribute name="class">o_wprofile_header text-white</attribute>
            <!-- Add custom background color -->
            <attribute name="style">background-color: #7B3FF2;</attribute>
        </xpath>
    </template>

    <!-- Add a header 'My Profile' on the top left -->
    <template id="user_profile_header_with_breadcrumb" inherit_id="website_profile.user_profile_header" name="Profile Page Header with Breadcrumb">
        <xpath expr="//div[contains(@class,'o_wprofile_header')]/div[@class='container pb-3 pb-md-0 pt-2 pt-md-5']/div[@class='row']" position="before">
            <div class="container d-flex align-items-center mb-4">
                <a href="/" class="text-secondary fw-bold me-2">
                    <i class="fa fa-home"></i>
                </a>
                <span class="text-white">/ My Profile</span>
            </div>
        </xpath>
    </template>

    <!-- Remove Users link -->
    <template id="remove_users_link" inherit_id="website_profile.user_profile_sub_nav" name="Remove Users link">
        <xpath expr="//nav" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
    </template>

    <template id="remove_user_profile_search" inherit_id="website_profile.user_profile_sub_nav">
        <xpath expr="//div[@class='col d-none d-md-flex flex-row align-items-center justify-content-end']" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
    </template>

    <!-- Remove Current Rank / Next Rank / XP -->
    <template id="user_profile_sidebar_custom" inherit_id="website_profile.user_profile_content" name="Custom Sidebar Without Ranks">
        <xpath expr="//div[contains(@class,'o_wprofile_sidebar_top')]" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
        <xpath expr="//t[@t-call='website_profile.profile_next_rank_card']" position="replace"/>
        <xpath expr="//small[contains(text(),'Next rank:')]" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
        
        <!-- Remove badges row from the sidebar table -->
        <xpath expr="//table[@id='o_wprofile_sidebar_table']/tbody/tr[th/small[text()='Badges']]" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
    </template>

    <!-- Remove the Badges section -->
    <template id="remove_badges_section" inherit_id="website_profile.user_profile_content" name="Remove Bottom Badges">
        <xpath expr="//div[@id='profile_about_badge']" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
    </template>

    <template id="remove_biography_section" inherit_id="website_profile.user_profile_content" name="Remove Biography Section">
        <xpath expr="//div[@t-if='user.partner_id.website_description' and hasclass('o_wprofile_editor_form')]" position="replace">
            <!-- Biography section removed -->
        </xpath>
    </template>

</odoo>
